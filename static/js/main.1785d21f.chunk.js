(this["webpackJsonpspinning-wheel"]=this["webpackJsonpspinning-wheel"]||[]).push([[0],{143:function(e,t){},274:function(e,t,n){},275:function(e,t,n){},320:function(e,t){},322:function(e,t){},332:function(e,t){},334:function(e,t){},360:function(e,t){},362:function(e,t){},363:function(e,t){},368:function(e,t){},370:function(e,t){},389:function(e,t){},401:function(e,t){},404:function(e,t){},452:function(e,t,n){},455:function(e,t,n){},459:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(47),s=n.n(i),c=(n(274),n.p,n(275),n(97)),a=n(98),l=n(107),u=n(106),d=n(41),h=n(42),p=n(462),f=n(461),v=n(15),m=n.n(v),g=n(146),j=n(99),b=n(253),x=n(267),w=(n(452),n(4)),O=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).eventHandler=function(e){e.stopPropagation()},r.appendSpreadsheet=function(){var e=Object(g.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.doc){e.next=3;break}return e.abrupt("return");case 3:return n=r.doc.sheetsById[0],e.next=6,n.addRow(t);case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),x.b.error("Something went wrong, Data was not saved in the database.");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),r._onMouseMove=function(e){r.setState({x:e.pageX,y:e.pageY})},r.onPowerClick=function(){var e=r.powerRef.current.getBoundingClientRect(),t=e.left+e.width,n=(r.state.x-e.left)/(t-e.left)*100;r.setState({speed:Math.floor(n)},(function(){r.state.speed>20&&r.selectItem()}))},r.doc=null,r.state={selectedItem:null,speed:15},r.powerRef=o.a.createRef(),r.selectItem=r.selectItem.bind(Object(j.a)(r)),r}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.powerRef.current.addEventListener("touchstart",this.eventHandler,{passive:!0}),this.powerRef.current.addEventListener("touchmove",this.eventHandler,{passive:!1}),this.powerRef.current.addEventListener("touchend",this.eventHandler),e.prev=3,this.doc=new b.GoogleSpreadsheet("1BzxH-YuUAiGqKeJglHMyCWwXJR-L24aPDmepwYD7QBw"),e.next=7,this.doc.useServiceAccountAuth({client_email:"google-sheets@testing-lms-57b19.iam.gserviceaccount.com",private_key:"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC6iw3oz61SijFK\\nko6cSuES/tHhpg9bTrqP3ywXODZPQ0420H6TesutmbfX9OXZuxG+TNYHXmkrSXRB\\nAUKbF0fXlIvIDEZlcFBk/DscDYPncJCmGfZ+vm0Iy7o06XBkWWZDdCtPQFYDhzza\\nVc4P+caSjCd1tONjsPVimUT/ISPXQ8P+tWjAuHBvguXz1BUYuThT4JCBfEG6b10J\\n2apkmimlXrUN9SZ69oxkkniu8tCeF4u6eXNFtgOBitLUqgkAdLXHoELrfgSgJj9z\\nYISe+gLsT0mfZJx2fT9oB4ULlJPffx8l2B7NJ+l0+O1q4Tqp/juvuDxOAN7XVL2/\\npHMhd+rzAgMBAAECggEATOABW3A6fUl2BsVfAAnbt3hMBjHpIjfPqnrOMMN5njCe\\nivhhMWXpiiFPIjBKiPAO393KVj8SGEStJBzg1glCEhWlhUuJt0QR3YwUz/rB4R8C\\nfXE1pAXV6UoL8sJBDxnIiwPU1VQuHkYdTd0OjobgzoPzvw5Mp0jF11xSktGVc6BD\\nXk8xyfmjeZWFMiwb1WJZCGqJ5GYuZMJxnwoH3xc6nqhtC6ldHpB2sVhNNF6K62Uu\\nT0XGojehe/SMqhZ33nKLqFYsVoYvzWT3+AnZcHPVUXdupCIK38/PLIU2bn1C5J4i\\nNUowNGKcQWHfDemB65VsAN3RuMVXFFjdOHHoSvR0AQKBgQD/GpNlFo4K+uZZ7CMJ\\ntW6hv1WDFHZVQ5QQ9Q3BkNtZL0LVDM1eDv9Cp8VA83X0xWhsm1lHf495zyI65VTV\\nmynQEZEAHZtdaFQAq/DxkfanBfklLHvBTV+qoMVSuaxQfVP3lxXqs6MKdpUFdy6/\\nCzz3DNYSd1MuBswTU/8/XrjiVQKBgQC7MtHJMG1NT6xUwNrFAQihs3KdDon98/eY\\nznfTNIMe0CpSxX4lKWkiSgFm7gfI8lA+K18Nq3mcnsmSypoJCUnkPjtZbsV5iOna\\naMiViAjDlYh9+DYPUEs9dStrddC+NZI3wLBBdYyZfwPAEVdWalzzIspUFsNhGhbB\\nTv116eewJwKBgQCsSmCd91u7orSMquUHG5g6eaThQKKi9187DKZbwt/CHh8/EMRq\\n8CoJ9JFOSp+xztm18D2eAlL+a5ystlJTadYVhqetslFKBrolMfsqy/AP4gLgzmhO\\np1kjPi3Gr0vnmJ1rLIlK2EQXPvtqk5HoyUhFek/ibOCqx0BxFVvgirLHeQKBgECY\\n1cmeO2l9P9NzRUrMA4WBHeDSfo2ynVMOlEy+hyyf2qr7WX9LXesmLHuvUeJms4fw\\ngXl/HZUNOjO8VBEgMm5fhy1iSySYOVJT7DulWJjdRd9qQoVgSMZpY1VOr3yjkdRJ\\nWskL3jutl8a0dTXtuCtyau0/eaZNUWLddhs1XuzrAoGALNE7KdEKsiX6zfUOxohJ\\nmE7UhfuakM++k9nCAjmri7thYfbzGSk10bcTVJhIKMLGpUhcRZ8Na5RfjUwB2yKB\\n7YxadmU9VDp3VBINdECB+kyuTEN1B5Ur3UY3TLEEjP9V484rOEBpNMmtPNXV4XZ8\\nT8FK0/2dXblqv/k1wrwVZe4=\\n-----END PRIVATE KEY-----\\n".replace(/\\n/g,"\n")});case 7:return e.next=9,this.doc.loadInfo();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),x.b.error("Something went wrong");case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.powerRef.current.removeEventListener("touchstart",this.eventHandler),this.powerRef.current.removeEventListener("touchmove",this.eventHandler),this.powerRef.current.removeEventListener("touchend",this.eventHandler)}},{key:"selectItem",value:function(){if(null===this.state.selectedItem){var e=Math.floor(Math.random()*this.props.items.length);this.props.onSelectItem&&this.props.onSelectItem(e),this.setState({selectedItem:e}),e&&this.appendSpreadsheet({web_client:"PWA",timestamp:new Date,spin_result_index:e})}else this.setState({selectedItem:null}),setTimeout(this.selectItem,500)}},{key:"componentDidUpdate",value:function(e){e.reset!==this.props.reset&&this.props.reset&&this.setState({selectedItem:null})}},{key:"render",value:function(){var e=this.state.selectedItem,t=this.props.items,n={"--nb-item":t.length,"--selected-item":e,"--spinning-duration":"".concat((150-this.state.speed)/10,"s"),"--nb-turn":"".concat(Math.floor((this.state.speed+50)/10))},r=null!==e?"spinning":"";return Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"wheel-container",children:[Object(w.jsx)("div",{className:"pointer-back"}),Object(w.jsx)("div",{className:"pointer"}),Object(w.jsx)("div",{className:"wheel ".concat(r),style:n,children:t.map((function(e,t){return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"wheel-item",style:{"--item-nb":t},children:[Object(w.jsx)("div",{className:"wheel-item-dot"}),e]},t)})}))}),Object(w.jsx)("div",{className:"spin-button",onClick:this.selectItem,children:"Spin"})]}),Object(w.jsx)("div",{ref:this.powerRef,onClick:this.onPowerClick,onMouseMove:this._onMouseMove,style:{"--percentage":"".concat(this.state.speed,"%")},className:"speed-controller"})]})}}]),n}(o.a.Component);function y(e,t){if(!function(e){var t=getComputedStyle(e).overflowY;return e===document.scrollingElement&&"visible"===t||"scroll"===t||"auto"===t}(e))return!1;if(1===t)return e.scrollTop+e.clientHeight<e.scrollHeight;if(-1===t)return e.scrollTop>0;throw new Error("unsupported direction")}function E(e,t){return!!y(e,t)||null!=e.parentElement&&E(e.parentElement,t)}n(455);var k,S,B,L,A,M,N,C,T,I=function(e){var t=Object(r.useRef)(null),n=Object(r.useRef)(null),o=Object(r.useRef)(null),i=!1,s=!1,c=0,a=0;Object(r.useEffect)((function(){if(n&&n.current)return n.current.addEventListener("touchstart",u,{passive:!0}),n.current.addEventListener("mousedown",u),n.current.addEventListener("touchmove",d,{passive:!1}),n.current.addEventListener("mousemove",d),n.current.addEventListener("touchend",h),n.current.addEventListener("mouseup",h),document.body.addEventListener("mouseleave",h),function(){n&&n.current&&(n.current.removeEventListener("touchstart",u),n.current.removeEventListener("mousedown",u),n.current.removeEventListener("touchmove",d),n.current.removeEventListener("mousemove",d),n.current.removeEventListener("touchend",h),n.current.removeEventListener("mouseup",h),document.body.removeEventListener("mouseleave",h))}}),[]);var l=function(){requestAnimationFrame((function(){n&&n.current&&(n.current.style.overflowX="hidden",n.current.style.overflowY="auto",n.current.style.transform="translate(0px, 0px)"),o&&o.current&&(o.current.style.opacity="0"),t.current&&(t.current.classList.remove("ptr--pull-down-treshold-breached"),t.current.classList.remove("ptr--dragging"),t.current.classList.remove("ptr--fetch-more-treshold-breached")),i&&(i=!1)}))},u=function(e){s=!1,e instanceof MouseEvent&&(c=e.pageY),window.TouchEvent&&e instanceof TouchEvent&&(c=e.touches[0].pageY),a=c,"touchstart"===e.type&&E(e.target,-1)||n.current.getBoundingClientRect().top<0||(s=!0)},d=function(e){s&&(a=window.TouchEvent&&e instanceof TouchEvent?e.touches[0].pageY:e.pageY,t.current.classList.add("ptr--dragging"),a<c?s=!1:(a-c>=45&&(s=!0,i=!0,t.current.classList.remove("ptr--dragging"),t.current.classList.add("ptr--pull-down-treshold-breached")),a-c>95||(o.current.style.opacity=((a-c)/65).toString(),n.current.style.overflow="visible",n.current.style.transform="translate(0px, ".concat(a-c,"px)"),o.current.style.visibility="visible")))},h=function(){if(s=!1,c=0,a=0,!i)return o.current&&(o.current.style.visibility="hidden"),void l();n.current&&(n.current.style.overflow="visible",n.current.style.transform="translate(0px, ".concat(45,"px)")),e.onRefresh().then(l())};return Object(w.jsxs)("div",{ref:t,children:[Object(w.jsxs)("div",{className:"ptr__pull-down",ref:o,children:[Object(w.jsx)("div",{className:"ptr__loader ptr__pull-down--loading",children:"Release to refresh"}),Object(w.jsx)("div",{className:"ptr__pull-down--pull-more",children:"Pull Down To Refresh"})]}),Object(w.jsx)("div",{className:"ptr__children",ref:n,children:e.children})]})},F=n(152),U=(p.a.Footer,h.a.div(k||(k=Object(d.a)(["\n  margin: 20px 0;\n  min-width: 358px;\n"])))),V=h.a.div(S||(S=Object(d.a)(["\n  /* position: absolute;\n  width: 320px;\n  height: 130px;\n  left: 20px;\n  top: 454px; */\n\n  background: #FFFFFF;\n  border-radius: 12px;\n  margin: 40px 20px 0 20px;\n  padding: 20px;\n"]))),X=h.a.div(B||(B=Object(d.a)(["\n  /* position: absolute;\n  width: 215px;\n  height: 48px;\n  left: 73px;\n  top: 474px; */\n\n  /* font-family: Metropolis; */\n  font-style: normal;\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 24px;\n  /* or 120% */\n\n  text-align: center;\n\n  color: #000000;\n"]))),P=h.a.div(L||(L=Object(d.a)(["\n  /* position: absolute;\n  width: 267px;\n  height: 36px;\n  left: 43px;\n  top: 528px; */\n\n  /* font-family: Metropolis; */\n  font-style: normal;\n  font-weight: normal;\n  font-size: 12px;\n  line-height: 18px;\n  /* or 150% */\n  margin-top: 6px;\n  text-align: center;\n\n  color: rgba(0, 0, 0, 0.58);\n"]))),H=h.a.div(A||(A=Object(d.a)(["\n  font-style: normal;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 14px;\n  /* identical to box height */\n\n\n  color: #000000;\n  text-align: center;\n  margin-top: 15px;\n"]))),R=h.a.div(M||(M=Object(d.a)(["\n    display: flex;\n"]))),D=h.a.div(N||(N=Object(d.a)(["\n    flex: 1;\n"]))),Y=h.a.div(C||(C=Object(d.a)(["\n    min-width: 358px;\n    max-width: 600px;\n    margin: 20px auto;\n"]))),J=h.a.div(T||(T=Object(d.a)(["\n    background-color: rgb(247, 246, 243);\n    max-width: 410px;\n    margin: 0 auto;\n"]))),K=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e,r){var o;return Object(c.a)(this,n),(o=t.call(this,e,r)).onRefresh=function(){return console.log("On Refresh"),new Promise((function(e,t){o.setState({reset:!0,loading:!0},e),setTimeout((function(){o.setState({reset:!1,loading:!1})}),1e3)}))},o.state={reset:!1,loading:!0,places:["Better luck!","2X Savings","\u20b9100 Cashback","\u20b920 \ud83d\udcb8","\u20b950 \ud83d\udcb8","1.5X Savings","2X Savings","\u20b950 \ud83d\udcb8"]},o}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({loading:!1})}),1e3)}},{key:"render",value:function(){return Object(w.jsx)(J,{children:Object(w.jsx)(I,{onRefresh:this.onRefresh,children:this.state.loading?Object(w.jsxs)(Y,{children:[Object(w.jsx)(f.a,{active:!0}),Object(w.jsx)(f.a,{active:!0}),Object(w.jsx)(f.a,{active:!0}),Object(w.jsx)(f.a,{active:!0})]}):Object(w.jsxs)(U,{children:[Object(w.jsx)(R,{children:Object(w.jsxs)(D,{style:{fontSize:22,color:"#000000",margin:"20px 20px 50px 20px"},children:[Object(w.jsx)(F.a,{style:{color:"#1B1B1E"}})," Your rewards"]})}),Object(w.jsx)(O,{reset:this.state.reset,items:this.state.places}),Object(w.jsxs)(V,{children:[Object(w.jsx)(X,{children:"Spin the wheel now to get rewarded"}),Object(w.jsx)(P,{children:"Tap on Spin or rotate the wheel anti-clockwise and release to start spinning"})]}),Object(w.jsxs)(H,{children:["Have a question? ",Object(w.jsx)("font",{style:{color:"#F6C95D"},children:"Get help"})]})]})})})}}]),n}(r.Component),W=n(265),z=n(18);var Z=function(){return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(W.a,{basename:"/spinning-wheel",children:Object(w.jsx)("div",{children:Object(w.jsxs)(z.c,{children:[Object(w.jsx)(z.a,{exact:!0,path:"/",component:K}),"="]})})})})},Q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,463)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),o(e),i(e),s(e)}))};s.a.render(Object(w.jsx)(o.a.StrictMode,{children:Object(w.jsx)(Z,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/spinning-wheel",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/spinning-wheel","/service-worker.js");Q?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):q(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):q(t,e)}))}}(),G()}},[[459,1,2]]]);
//# sourceMappingURL=main.1785d21f.chunk.js.map