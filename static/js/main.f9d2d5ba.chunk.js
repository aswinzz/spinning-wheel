(this["webpackJsonpspinning-wheel"]=this["webpackJsonpspinning-wheel"]||[]).push([[0],{144:function(e,t){},273:function(e,t,n){},274:function(e,t,n){},319:function(e,t){},321:function(e,t){},331:function(e,t){},333:function(e,t){},359:function(e,t){},361:function(e,t){},362:function(e,t){},367:function(e,t){},369:function(e,t){},388:function(e,t){},400:function(e,t){},403:function(e,t){},451:function(e,t,n){},454:function(e,t,n){},458:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),s=n(47),o=n.n(s),c=(n(273),n.p,n(274),n(11)),a=n.n(c),l=n(68),u=n(98),d=n(99),h=n(108),p=n(107),f=n(28),v=n(29),m=n(100),g=n(253),j=n(267),b=(n(451),n(3)),x=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).eventHandler=function(e){e.stopPropagation()},r.appendSpreadsheet=function(){var e=Object(l.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.doc){e.next=3;break}return e.abrupt("return");case 3:return n=r.doc.sheetsById[0],e.next=6,n.addRow(t);case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),j.b.error("Something went wrong, Data was not saved in the database.");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),r._onMouseMove=function(e){r.setState({x:e.pageX,y:e.pageY})},r.onPowerClick=function(){var e=r.powerRef.current.getBoundingClientRect(),t=e.left+e.width,n=(r.state.x-e.left)/(t-e.left)*100;r.setState({speed:Math.floor(n)},(function(){r.state.speed>20&&r.selectItem()}))},r.doc=null,r.state={selectedItem:null,speed:15},r.powerRef=i.a.createRef(),r.selectItem=r.selectItem.bind(Object(m.a)(r)),r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.powerRef.current.addEventListener("touchstart",this.eventHandler,{passive:!0}),this.powerRef.current.addEventListener("touchmove",this.eventHandler,{passive:!1}),this.powerRef.current.addEventListener("touchend",this.eventHandler),e.prev=3,this.doc=new g.GoogleSpreadsheet("1BzxH-YuUAiGqKeJglHMyCWwXJR-L24aPDmepwYD7QBw"),e.next=7,this.doc.useServiceAccountAuth({client_email:"google-sheets@testing-lms-57b19.iam.gserviceaccount.com",private_key:"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC6iw3oz61SijFK\\nko6cSuES/tHhpg9bTrqP3ywXODZPQ0420H6TesutmbfX9OXZuxG+TNYHXmkrSXRB\\nAUKbF0fXlIvIDEZlcFBk/DscDYPncJCmGfZ+vm0Iy7o06XBkWWZDdCtPQFYDhzza\\nVc4P+caSjCd1tONjsPVimUT/ISPXQ8P+tWjAuHBvguXz1BUYuThT4JCBfEG6b10J\\n2apkmimlXrUN9SZ69oxkkniu8tCeF4u6eXNFtgOBitLUqgkAdLXHoELrfgSgJj9z\\nYISe+gLsT0mfZJx2fT9oB4ULlJPffx8l2B7NJ+l0+O1q4Tqp/juvuDxOAN7XVL2/\\npHMhd+rzAgMBAAECggEATOABW3A6fUl2BsVfAAnbt3hMBjHpIjfPqnrOMMN5njCe\\nivhhMWXpiiFPIjBKiPAO393KVj8SGEStJBzg1glCEhWlhUuJt0QR3YwUz/rB4R8C\\nfXE1pAXV6UoL8sJBDxnIiwPU1VQuHkYdTd0OjobgzoPzvw5Mp0jF11xSktGVc6BD\\nXk8xyfmjeZWFMiwb1WJZCGqJ5GYuZMJxnwoH3xc6nqhtC6ldHpB2sVhNNF6K62Uu\\nT0XGojehe/SMqhZ33nKLqFYsVoYvzWT3+AnZcHPVUXdupCIK38/PLIU2bn1C5J4i\\nNUowNGKcQWHfDemB65VsAN3RuMVXFFjdOHHoSvR0AQKBgQD/GpNlFo4K+uZZ7CMJ\\ntW6hv1WDFHZVQ5QQ9Q3BkNtZL0LVDM1eDv9Cp8VA83X0xWhsm1lHf495zyI65VTV\\nmynQEZEAHZtdaFQAq/DxkfanBfklLHvBTV+qoMVSuaxQfVP3lxXqs6MKdpUFdy6/\\nCzz3DNYSd1MuBswTU/8/XrjiVQKBgQC7MtHJMG1NT6xUwNrFAQihs3KdDon98/eY\\nznfTNIMe0CpSxX4lKWkiSgFm7gfI8lA+K18Nq3mcnsmSypoJCUnkPjtZbsV5iOna\\naMiViAjDlYh9+DYPUEs9dStrddC+NZI3wLBBdYyZfwPAEVdWalzzIspUFsNhGhbB\\nTv116eewJwKBgQCsSmCd91u7orSMquUHG5g6eaThQKKi9187DKZbwt/CHh8/EMRq\\n8CoJ9JFOSp+xztm18D2eAlL+a5ystlJTadYVhqetslFKBrolMfsqy/AP4gLgzmhO\\np1kjPi3Gr0vnmJ1rLIlK2EQXPvtqk5HoyUhFek/ibOCqx0BxFVvgirLHeQKBgECY\\n1cmeO2l9P9NzRUrMA4WBHeDSfo2ynVMOlEy+hyyf2qr7WX9LXesmLHuvUeJms4fw\\ngXl/HZUNOjO8VBEgMm5fhy1iSySYOVJT7DulWJjdRd9qQoVgSMZpY1VOr3yjkdRJ\\nWskL3jutl8a0dTXtuCtyau0/eaZNUWLddhs1XuzrAoGALNE7KdEKsiX6zfUOxohJ\\nmE7UhfuakM++k9nCAjmri7thYfbzGSk10bcTVJhIKMLGpUhcRZ8Na5RfjUwB2yKB\\n7YxadmU9VDp3VBINdECB+kyuTEN1B5Ur3UY3TLEEjP9V484rOEBpNMmtPNXV4XZ8\\nT8FK0/2dXblqv/k1wrwVZe4=\\n-----END PRIVATE KEY-----\\n".replace(/\\n/g,"\n")});case 7:return e.next=9,this.doc.loadInfo();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),j.b.error("Something went wrong");case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.powerRef.current.removeEventListener("touchstart",this.eventHandler),this.powerRef.current.removeEventListener("touchmove",this.eventHandler),this.powerRef.current.removeEventListener("touchend",this.eventHandler)}},{key:"selectItem",value:function(){if(null===this.state.selectedItem){var e=Math.floor(Math.random()*this.props.items.length);this.props.onSelectItem&&this.props.onSelectItem(e),this.setState({selectedItem:e}),e&&this.appendSpreadsheet({web_client:"PWA",timestamp:new Date,spin_result_index:e})}else this.setState({selectedItem:null}),setTimeout(this.selectItem,500)}},{key:"componentDidUpdate",value:function(e){e.reset!==this.props.reset&&this.props.reset&&this.setState({selectedItem:null})}},{key:"render",value:function(){var e=this.state.selectedItem,t=this.props.items,n={"--nb-item":t.length,"--selected-item":e,"--spinning-duration":"".concat((150-this.state.speed)/10,"s"),"--nb-turn":"".concat(Math.floor((this.state.speed+50)/10))},r=null!==e?"spinning":"";return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"wheel-container",children:[Object(b.jsx)("div",{className:"pointer-back"}),Object(b.jsx)("div",{className:"pointer"}),Object(b.jsx)("div",{className:"wheel ".concat(r),style:n,children:t.map((function(e,t){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"wheel-item",style:{"--item-nb":t},children:[Object(b.jsx)("div",{className:"wheel-item-dot"}),e]},t)})}))}),Object(b.jsx)("div",{className:"spin-button",onClick:this.selectItem,children:"Spin"})]}),Object(b.jsx)("div",{ref:this.powerRef,onClick:this.onPowerClick,onMouseMove:this._onMouseMove,style:{"--percentage":"".concat(this.state.speed,"%")},className:"speed-controller"})]})}}]),n}(i.a.Component);function w(e,t){if(!function(e){var t=getComputedStyle(e).overflowY;return e===document.scrollingElement&&"visible"===t||"scroll"===t||"auto"===t}(e))return!1;if(1===t)return e.scrollTop+e.clientHeight<e.scrollHeight;if(-1===t)return e.scrollTop>0;throw new Error("unsupported direction")}function O(e,t){return!!w(e,t)||null!=e.parentElement&&O(e.parentElement,t)}n(454);var y,E,k,S,B,L,A,N,C,M=function(e){var t=Object(r.useRef)(null),n=Object(r.useRef)(null),i=Object(r.useRef)(null),s=!1,o=!1,c=0,a=0;Object(r.useEffect)((function(){if(n&&n.current)return n.current.addEventListener("touchstart",u,{passive:!0}),n.current.addEventListener("mousedown",u),n.current.addEventListener("touchmove",d,{passive:!1}),n.current.addEventListener("mousemove",d),n.current.addEventListener("touchend",h),n.current.addEventListener("mouseup",h),document.body.addEventListener("mouseleave",h),function(){n&&n.current&&(n.current.removeEventListener("touchstart",u),n.current.removeEventListener("mousedown",u),n.current.removeEventListener("touchmove",d),n.current.removeEventListener("mousemove",d),n.current.removeEventListener("touchend",h),n.current.removeEventListener("mouseup",h),document.body.removeEventListener("mouseleave",h))}}),[]);var l=function(){requestAnimationFrame((function(){n&&n.current&&(n.current.style.overflowX="hidden",n.current.style.overflowY="auto",n.current.style.transform="translate(0px, 0px)"),i&&i.current&&(i.current.style.opacity="0"),t.current&&(t.current.classList.remove("ptr--pull-down-treshold-breached"),t.current.classList.remove("ptr--dragging"),t.current.classList.remove("ptr--fetch-more-treshold-breached")),s&&(s=!1)}))},u=function(e){o=!1,e instanceof MouseEvent&&(c=e.pageY),window.TouchEvent&&e instanceof TouchEvent&&(c=e.touches[0].pageY),a=c,"touchstart"===e.type&&O(e.target,-1)||n.current.getBoundingClientRect().top<0||(o=!0)},d=function(e){o&&(a=window.TouchEvent&&e instanceof TouchEvent?e.touches[0].pageY:e.pageY,t.current.classList.add("ptr--dragging"),a<c?o=!1:(a-c>=45&&(o=!0,s=!0,t.current.classList.remove("ptr--dragging"),t.current.classList.add("ptr--pull-down-treshold-breached")),a-c>95||(i.current.style.opacity=((a-c)/65).toString(),n.current.style.overflow="visible",n.current.style.transform="translate(0px, ".concat(a-c,"px)"),i.current.style.visibility="visible")))},h=function(){if(o=!1,c=0,a=0,!s)return i.current&&(i.current.style.visibility="hidden"),void l();n.current&&(n.current.style.overflow="visible",n.current.style.transform="translate(0px, ".concat(45,"px)")),e.onRefresh().then(l())};return Object(b.jsxs)("div",{ref:t,children:[Object(b.jsxs)("div",{className:"ptr__pull-down",ref:i,children:[Object(b.jsx)("div",{className:"ptr__loader ptr__pull-down--loading",children:"Release to refresh"}),Object(b.jsx)("div",{className:"ptr__pull-down--pull-more",children:"Pull Down To Refresh"})]}),Object(b.jsx)("div",{className:"ptr__children",ref:n,children:e.children})]})},I=n(460),T=v.a.div(y||(y=Object(f.a)(["\n    min-width: 358px;\n    max-width: 600px;\n    margin: 20px auto;\n"]))),F=function(){return Object(b.jsxs)(T,{children:[Object(b.jsx)(I.a,{active:!0}),Object(b.jsx)(I.a,{active:!0}),Object(b.jsx)(I.a,{active:!0}),Object(b.jsx)(I.a,{active:!0})]})},U=n(461),V=v.a.div(E||(E=Object(f.a)(["\n    display: flex;\n"]))),P=v.a.div(k||(k=Object(f.a)(["\n    flex: 1;\n"]))),D=function(e){var t=e.text;return Object(b.jsx)(V,{children:Object(b.jsxs)(P,{style:{fontSize:22,color:"#000000",margin:"20px 20px 50px 20px"},children:[Object(b.jsx)(U.a,{style:{color:"#1B1B1E"}})," ",t]})})},H=v.a.div(S||(S=Object(f.a)(["\n  background: #FFFFFF;\n  border-radius: 12px;\n  margin: 40px 20px 0 20px;\n  padding: 20px;\n"]))),R=v.a.div(B||(B=Object(f.a)(["\n  font-style: normal;\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 24px;\n  text-align: center;\n\n  color: #000000;\n"]))),X=v.a.div(L||(L=Object(f.a)(["\n  font-style: normal;\n  font-weight: normal;\n  font-size: 12px;\n  line-height: 18px;\n  margin-top: 6px;\n  text-align: center;\n  color: rgba(0, 0, 0, 0.58);\n"]))),Y=function(e){var t=e.heading,n=e.subheading;return Object(b.jsxs)(H,{children:[Object(b.jsx)(R,{children:t}),Object(b.jsx)(X,{children:n})]})},J=v.a.div(A||(A=Object(f.a)(["\n  margin: 20px 0;\n  min-width: 358px;\n"]))),K=function(e){var t=e.children;return Object(b.jsx)(J,{children:t})},W=v.a.div(N||(N=Object(f.a)(["\n  font-style: normal;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 14px;\n  color: #000000;\n  text-align: center;\n  margin-top: 15px;\n"]))),z=v.a.div(C||(C=Object(f.a)(["\n    background-color: rgb(247, 246, 243);\n    max-width: 410px;\n    margin: 0 auto;\n"]))),Z=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e,r){var i;return Object(u.a)(this,n),(i=t.call(this,e,r)).fetchData=Object(l.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://60852621d14a87001757772d.mockapi.io/api/v1/get-spinner-data");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,i.setState({items:n,loading:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),j.b.error("Something went wrong"),i.setState({loading:!1});case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),i.onRefresh=function(){return console.log("On Refresh"),new Promise((function(e,t){i.setState({reset:!0,loading:!0},e),setTimeout((function(){i.setState({reset:!1,loading:!1})}),1e3)}))},i.state={reset:!1,loading:!0,items:[]},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(b.jsx)(z,{children:Object(b.jsx)(M,{onRefresh:this.onRefresh,children:this.state.loading?Object(b.jsx)(F,{}):Object(b.jsxs)(K,{children:[Object(b.jsx)(D,{text:"Your rewards"}),this.state.items&&this.state.items.length?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,{reset:this.state.reset,items:this.state.items}),Object(b.jsx)(Y,{heading:"Spin the wheel now to get rewarded",subheading:"Tap on Spin or rotate the wheel anti-clockwise and release to start spinning "})]}):Object(b.jsx)(W,{children:"Spinner wheel was not loaded, please try refreshing the page"}),Object(b.jsxs)(W,{children:["Have a question? ",Object(b.jsx)("font",{style:{color:"#F6C95D"},children:"Get help"})]})]})})})}}]),n}(r.Component),Q=n(265),q=n(18);var G=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(Q.a,{basename:"/spinning-wheel",children:Object(b.jsx)("div",{children:Object(b.jsxs)(q.c,{children:[Object(b.jsx)(q.a,{exact:!0,path:"/",component:Z}),"="]})})})})},_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,462)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),s(e),o(e)}))};o.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(G,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/spinning-wheel",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/spinning-wheel","/service-worker.js");_?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):$(t,e)}))}}(),ee()}},[[458,1,2]]]);
//# sourceMappingURL=main.f9d2d5ba.chunk.js.map